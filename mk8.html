<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="msapplication-TileColor" content="#00c900">
    <meta name="theme-color" content="#00c900">
    <link href="https://social.vivaldi.net/@codymkw" rel="me">
    <link href="https://nxapi-auth.fancy.org.uk/@CodyMKW" rel="me">
    <link rel="me" href="https://splashcat.ink/@CodyMKW/" />
    <meta name="description" content="The Mario Kart 8 Deluxe Randomizer generates a random character, track, vehicle, wheel, and glider combination for Mario Kart 8 Deluxe players.">
    <meta name="keywords"
        content="CodyMKW, Nintendo fan, Animal Crossing, Nintendo Switch, Mario Kart, Pok√©mon, gaming enthusiast, peaceful gaming, relaxing atmosphere, gaming community, Nintendo Switch gaming, gaming adventures, video games, Nintendo games, gaming journey, social media, gaming community, anime, Clannad, future of Nintendo, QR code, Nintendo news, web apps, social links, gaming fun, Friend Code, gaming enthusiast, gaming community.">
    <meta name="author" content="CodyMKW">
    <meta property="og:title" content="Mario Kart 8 Deluxe Randomizer - CodyMKW">
    <meta property="og:description" content="The Mario Kart 8 Deluxe Randomizer generates a random character, track, vehicle, wheel, and glider combination for Mario Kart 8 Deluxe players.">
    <meta property="og:image" content="https://www.gravatar.com/avatar/5127de8a3a295a02ff3fc55bb6b2fabe?s=2048">
    <meta property="og:url" content="https://codymkw.github.io">
    <meta property="og:type" content="website">
    <meta name="twitter:creator" content="@CodyMKW" />
    <meta name="twitter:title" content="Mario Kart 8 Deluxe Randomizer - CodyMKW" />
    <meta name="twitter:description" content="The Mario Kart 8 Deluxe Randomizer generates a random character, track, vehicle, wheel, and glider combination for Mario Kart 8 Deluxe players." />
    <meta name="twitter:image:src" content="https://www.gravatar.com/avatar/5127de8a3a295a02ff3fc55bb6b2fabe?s=2048" />
    <link id="theme-style" rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/emoji.css">
    <script defer src="assets/javascript/main.js"></script>
    <script defer src="assets/javascript/backgrounds.js"></script>
    <script defer src="assets/javascript/avatarFramestickyheader.js"></script>
    <title>Mario Kart 8 Deluxe Randomizer - CodyMKW</title>
</head>
<body>
    <div id="sticky-header" class="sticky-header" style="display: none;">
        <span id="close-button" onclick="toggleHeader()">X</span>
        <a href="" target="_blank" class="important"></a>
    </div>
    <div id="background-image"></div>
    <div class="container">
        <div class="header">
            <p>
            <div id="cody-header-bg">
                <h1 id="cody-heading2"></h1>
                <h1 id="cody-heading"></h1>
            </div>
            </p>
            <div class="avatar-frame" id="avatar-frame" onclick="selectAvatarFrame()">
                <img src="" alt="Avatar Frame" class="frame-image" style="display: none;">
                <img src="https://www.gravatar.com/avatar/5127de8a3a295a02ff3fc55bb6b2fabe?s=2048" alt="Cody's Avatar"
                    class="avatar-image">
            </div>
            <div class="header-text">
                <p>üéÆ A gamer that likes Nintendo and anime üç•</p>
                <div id="status-container"></div>
            </div>
        </div>
        <div class="tabs">
            <button onclick="window.location.href='/'">About</button>
            <button onclick="window.location.href='blog'">Blog</button>
            <button onclick="window.location.href='nintendo-news'">Nintendo News</button>
            <button onclick="window.location.href='chat'">Chat</button>
            <button onclick="window.location.href='other-stuff'">Other Stuff</button>
            <button onclick="window.location.href='social-media'">Social Media</button>
        </div>
        <div class="content" id="mk8Content">
        <h2>Mario Kart 8 Deluxe Randomizer</h2>
          <div class="card-container">
        <div class="card">
          <h2>Character:</h2>
          <p id="character" class="randomizedtext"></p>
        </div>
        <div class="card track-card">
          <h2>Track:</h2>
          <p id="track" class="randomizedtext"></p>
        </div>         
        <div class="card">
          <h2>Vehicle:</h2>
          <p id="vehicle" class="randomizedtext"></p>
        </div>
        <div class="card">
          <h2>Wheel:</h2>
          <p id="wheel" class="randomizedtext"></p>
        </div>
        <div class="card">
          <h2>Glider:</h2>
          <p id="glider" class="randomizedtext"></p>
        </div>
      </div>
      <div class="button-container">
        <button id="randomize-button">Randomize</button>
      </div>
      <div class="button-container">
        <button id="options-button">Options</button>
        <button id="tweet-button" disabled>Copy Results</button>
      </div>
      <div class="options-overlay" id="options-overlay" style="display: none;">
      <div class="options-card card">
        <h2>Options:</h2>
        <label>
          <input type="checkbox" id="hide-gold-parts" /> Hide gold vehicle parts
        </label>
        <label>
          <input type="checkbox" id="hide-gold-mario" /> Hide Gold Mario
        </label>
        <label>
          <input type="checkbox" id="hide-alternate-costumes" /> Hide Alternate costumes
        </label>
        <label>
          <input type="checkbox" id="hide-track" /> Hide tracks
        </label>
        <div class="button-container">
          <button id="mk8-close-button">Close</button>
        </div>
      </div>
    </div>
        </div>
    </div>
    <button id="theme-toggle" class="theme-toggle-button"><span>‚òÄÔ∏è</span> Light Mode</button>
    <footer></footer>
<script>
let characters = [];
let tracks = [];
let vehicles = [];
let wheels = [];
let gliders = [];

async function loadMK8Data() {
  try {
    const response = await fetch("https://api.npoint.io/5c2acd1f24ec5be4b668");
    const data = await response.json();

    characters = data.characters;
    tracks = data.tracks;
    vehicles = data.vehicles;
    wheels = data.wheels;
    gliders = data.gliders;

    console.log("MK8 data loaded successfully!");
  } catch (error) {
    console.error("Error loading MK8 data:", error);
  }
}

loadMK8Data().then(() => {
  setupRandomizer();
});

function setupRandomizer() {
  const trackElement = document.getElementById("track");
  const vehicleElement = document.getElementById("vehicle");
  const wheelElement = document.getElementById("wheel");
  const gliderElement = document.getElementById("glider");
  const characterElement = document.getElementById("character");
  const randomizeButton = document.getElementById("randomize-button");
  const tweetButton = document.getElementById("tweet-button");
  const mk8closeButton = document.getElementById('mk8-close-button');
  const optionsOverlay = document.getElementById('options-overlay');
  const optionsButton = document.getElementById('options-button');
  const hideGoldPartsCheckbox = document.getElementById("hide-gold-parts");
  const hideGoldMarioCheckbox = document.getElementById("hide-gold-mario");
  const hideAlternateCostumesCheckbox = document.getElementById("hide-alternate-costumes");
  const hideTrackCheckbox = document.getElementById("hide-track");

  optionsButton.addEventListener("click", () => optionsOverlay.style.display = "flex");
  mk8closeButton.addEventListener("click", () => optionsOverlay.style.display = "none");
  optionsOverlay.addEventListener("click", (event) => {
    if (event.target === optionsOverlay) optionsOverlay.style.display = "none";
  });

  function randomize() {
    let filteredVehicles = vehicles;
    let filteredWheels = wheels;
    let filteredGliders = gliders;
    let filteredCharacters = characters;

    if (hideGoldPartsCheckbox.checked) {
      filteredVehicles = vehicles.filter(v => !v.includes("Gold Standard"));
      filteredWheels = wheels.filter(w => !w.includes("Gold Tires"));
      filteredGliders = gliders.filter(g => !g.includes("Gold Glider"));
    }

    if (hideGoldMarioCheckbox.checked) {
      filteredCharacters = characters.filter(c => !c.includes("Gold Mario"));
    }

    if (hideAlternateCostumesCheckbox.checked) {
      const banned = ["Birdo (Light Blue)","Birdo (Black)","Birdo (Red)","Birdo (Yellow)","Birdo (White)","Birdo (Blue)","Birdo (Green)","Birdo (Orange)","Yoshi (Light Blue)","Yoshi (Black)","Yoshi (Red)","Yoshi (Yellow)","Yoshi (White)","Yoshi (Blue)","Yoshi (Pink)","Yoshi (Orange)","Shy Guy (Light Blue)","Shy Guy (Black)","Shy Guy (Green)","Shy Guy (Yellow)","Shy Guy (White)","Shy Guy (Blue)","Shy Guy (Pink)","Shy Guy (Orange)","Inkling Girl (Lime Green)","Inkling Girl (Magenta)","Inkling Boy (Purple)","Inkling Boy (Teal)","Link (Champion's Tunic)"];
      filteredCharacters = filteredCharacters.filter(c => !banned.includes(c));
    }

    const randomTrack = tracks[Math.floor(Math.random() * tracks.length)];
    const randomCharacter = filteredCharacters[Math.floor(Math.random() * filteredCharacters.length)];
    const randomVehicle = filteredVehicles[Math.floor(Math.random() * filteredVehicles.length)];
    const randomWheel = filteredWheels[Math.floor(Math.random() * filteredWheels.length)];
    const randomGlider = filteredGliders[Math.floor(Math.random() * filteredGliders.length)];

    trackElement.textContent = randomTrack;
    characterElement.textContent = randomCharacter;
    vehicleElement.textContent = randomVehicle;
    wheelElement.textContent = randomWheel;
    gliderElement.textContent = randomGlider;
  }

  function hideTrack() {
    document.querySelector('.track-card').style.display = hideTrackCheckbox.checked ? 'none' : 'block';
  }

  function loadOptionsState() {
    hideGoldPartsCheckbox.checked = JSON.parse(localStorage.getItem('hideGoldParts') || 'false');
    hideGoldMarioCheckbox.checked = JSON.parse(localStorage.getItem('hideGoldMario') || 'false');
    hideAlternateCostumesCheckbox.checked = JSON.parse(localStorage.getItem('hideAlternateCostumes') || 'false');
    hideTrackCheckbox.checked = JSON.parse(localStorage.getItem('hideTrack') || 'false');
    hideTrack();
  }

  [hideGoldPartsCheckbox, hideGoldMarioCheckbox, hideAlternateCostumesCheckbox, hideTrackCheckbox].forEach(cb => {
    cb.addEventListener('change', () => {
      localStorage.setItem(cb.id.replace('hide-', 'hide').replace(/-/g, ''), cb.checked);
      if (cb === hideTrackCheckbox) hideTrack();
    });
  });

  tweetButton.addEventListener("click", () => {
    const text = hideTrackCheckbox.checked
      ? `I just generated a random combo using the #MarioKart8Deluxe Randomizer!\n\nCharacter - ${characterElement.textContent}\nVehicle - ${vehicleElement.textContent}\nWheel - ${wheelElement.textContent}\nGlider - ${gliderElement.textContent}\nhttps://codymkw.nekoweb.org/mk8`
      : `I just generated a random track & combo using the #MarioKart8Deluxe Randomizer!\n\nTrack - ${trackElement.textContent}\nCharacter - ${characterElement.textContent}\nVehicle - ${vehicleElement.textContent}\nWheel - ${wheelElement.textContent}\nGlider - ${gliderElement.textContent}\nhttps://codymkw.nekoweb.org/mk8`;
    navigator.clipboard.writeText(text);
    alert("The message was copied to clipboard now you can go to twitter and post it or you can post it somewhere else it's up to you! :D");
  });

  randomizeButton.addEventListener("click", () => {
    tweetButton.removeAttribute("disabled");
    randomize();
  });

  loadOptionsState();
}
</script>
</body>
</html>