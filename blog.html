<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="msapplication-TileColor" content="#00c900">
    <meta name="theme-color" content="#00c900">
    <link href="https://social.vivaldi.net/@codymkw" rel="me">
    <meta name="description" content="Random blog where Cody will post random shit! lol">
    <meta name="keywords" content="CodyMKW, Nintendo fan, Animal Crossing, Nintendo Switch, 3DS, Wii U, Pretendo Network, Pretendo, Mario Kart, Pok√©mon, gaming enthusiast, peaceful gaming, relaxing atmosphere, gaming community, Nintendo Switch gaming, gaming adventures, video games, Nintendo games, gaming journey, social media, gaming community, anime, Clannad, future of Nintendo, QR code, Nintendo news, web apps, social links, gaming fun, Friend Code, gaming enthusiast, gaming community.">
    <meta name="author" content="CodyMKW">
    <meta property="og:title" content="Blog - CodyMKW">
    <meta property="og:description" content="Random blog where Cody will post random shit! lol">
    <meta property="og:image" content="/assets/images/emojis/miiverse.png">
    <meta property="og:url" content="https://codymkw.github.io">
    <meta property="og:type" content="website">
    <meta name="twitter:creator" content="@CodyMKW" />
    <meta name="twitter:title" content="Blog - CodyMKW" />
    <meta name="twitter:description" content="Random blog where Cody will post random shit! lol" />
    <meta name="twitter:image:src" content="/assets/images/emojis/miiverse.png" />
    <link rel="stylesheet" href="assets/css/main.css">
    <link rel="stylesheet" href="assets/css/emoji.css">
    <script defer src="assets/javascript/main.js"></script>
    <script defer src="assets/javascript/backgrounds.js"></script>
    <script defer src="assets/javascript/avatarFramestickyheader.js"></script>
    <title>Blog - CodyMKW</title>
</head>
<body>
  <div id="sticky-header" class="sticky-header" style="display: none;">
    <span id="close-button" onclick="toggleHeader()">X</span>
    <a href="" target="_blank" class="important"></a>
  </div>  
    <div id="background-image"></div>
    <div class="container">
        <div class="header">
            <p>
            <div class="cody-header-bg">
              <h1 id="cody-heading2"></h1>
              <h1 id="cody-heading">CodyMKW</h1>
            </div>
            </p>
            <div class="avatar-frame" id="avatar-frame" onclick="selectAvatarFrame()">
               <img src="" alt="Avatar Frame" class="frame-image" style="display: none;">
               <img src="https://www.gravatar.com/avatar/5127de8a3a295a02ff3fc55bb6b2fabe?s=2048" alt="Cody's Avatar" class="avatar-image">
            </div>
            <div class="header-text">
                <p>üçÉ Animal Crossing enthusiast | üèÅ Mario Kart racer | ü¶ë Splatoon veteran | üç• Anime lover</p>
                <div id="status-container"></div>
            </div>
        </div>
        <div class="tabs">
            <button onclick="window.location.href='/'">About</button>
            <button onclick="window.location.href='friend-code'">Friend Code</button>
            <button onclick="window.location.href='nintendo-news'">Nintendo News</button>
            <button onclick="window.location.href='chat'">Chat</button>
            <button onclick="window.location.href='other-stuff'">Other Stuff</button>
            <button onclick="window.location.href='social-media'">Social Media</button>
        </div>
        <div class="content" id="BlogContent">   
            <h2><i class="emoji codyBlog"></i></h2>
            <div id="blog-container"></div>
            <div id="pagination" class="pagination"></div>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
const postsPerPage = 5; // Number of posts per page
let currentPage = 1;
let posts = [];

// Fetch JSON posts
async function fetchPosts() {
  try {
    const response = await fetch("https://api.npoint.io/c5a0cf622c6bac905e59"); // Path to your JSON file
    posts = await response.json();
    renderPosts();
    renderPagination();
  } catch (error) {
    console.error("Failed to fetch posts:", error);
  }
}

// Render posts for the current page
function renderPosts() {
  const blogContainer = document.getElementById("blog-container"); // Correct ID
  blogContainer.innerHTML = ""; // Clear previous posts

  const startIndex = (currentPage - 1) * postsPerPage;
  const endIndex = startIndex + postsPerPage;
  const currentPosts = posts.slice(startIndex, endIndex);

  currentPosts.forEach((post) => {
    const postElement = document.createElement("div");
    postElement.classList.add("blog-post");
    postElement.innerHTML = `
      <h3>${post.title}</h3>
      <p><strong>By:</strong> ${post.author || "Unknown"} <em>${post.date || "No Date"}</em></p>
      <div>${marked(post.content)}</div>
      ${post.image ? `<img src="${post.image}" alt="${post.title}" class="blog-image">` : ""}
      ${post.video ? `<video src="${post.video}" controls class="blog-video"></video>` : ""}
    `;
    blogContainer.appendChild(postElement);
  });
}

// Render pagination controls
function renderPagination() {
  const paginationContainer = document.getElementById("pagination");
  paginationContainer.innerHTML = "";

  const totalPages = Math.ceil(posts.length / postsPerPage);

  // Previous button
  const prevButton = document.createElement("button");
  prevButton.textContent = "Previous";
  prevButton.classList.toggle("disabled", currentPage === 1);
  prevButton.onclick = () => {
    if (currentPage > 1) {
      currentPage--;
      renderPosts();
      renderPagination();
    }
  };
  paginationContainer.appendChild(prevButton);

  // Page numbers
  for (let i = 1; i <= totalPages; i++) {
    const pageButton = document.createElement("button");
    pageButton.textContent = i;
    pageButton.classList.toggle("active", i === currentPage);
    pageButton.onclick = () => {
      currentPage = i;
      renderPosts();
      renderPagination();
    };
    paginationContainer.appendChild(pageButton);
  }

  // Next button
  const nextButton = document.createElement("button");
  nextButton.textContent = "Next";
  nextButton.classList.toggle("disabled", currentPage === totalPages);
  nextButton.onclick = () => {
    if (currentPage < totalPages) {
      currentPage++;
      renderPosts();
      renderPagination();
    }
  };
  paginationContainer.appendChild(nextButton);
}

// Initialize
document.addEventListener("DOMContentLoaded", fetchPosts);
</script>
        </div>
        </div>
    </div>
    <footer></footer>
</body>
</html>